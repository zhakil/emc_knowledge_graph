# EMCçŸ¥è¯†å›¾è°±å®¢æˆ·ç«¯éƒ¨ç½²æŒ‡å—

## æ¦‚è¿°

EMCçŸ¥è¯†å›¾è°±å®¢æˆ·ç«¯æ˜¯ä¸€ä¸ªå®Œæ•´çš„å•é¡µé¢åº”ç”¨ç¨‹åºï¼Œä¸“ä¸ºç”µç£å…¼å®¹æ€§ï¼ˆEMCï¼‰çŸ¥è¯†ç®¡ç†è€Œè®¾è®¡ã€‚æ­¤å®¢æˆ·ç«¯æä¾›äº†å®Œæ•´çš„ç”¨æˆ·ç•Œé¢å’ŒåŠŸèƒ½ï¼ŒåŒ…æ‹¬çŸ¥è¯†å›¾è°±å¯è§†åŒ–ã€æ™ºèƒ½æœç´¢ã€æ–‡ä»¶ç®¡ç†ã€æ–‡æ¡£ç¼–è¾‘ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

## æ–‡ä»¶ç»“æ„

```
emc_knowledge_graph/
â”œâ”€â”€ emc_complete_client.html    # ä¸»åº”ç”¨HTMLæ–‡ä»¶
â”œâ”€â”€ emc_client_modules.js       # JavaScriptåŠŸèƒ½æ¨¡å—
â”œâ”€â”€ CLIENT_DEPLOYMENT.md        # æœ¬éƒ¨ç½²æ–‡æ¡£
â”œâ”€â”€ FIXES_SUMMARY.md           # ä¿®å¤æ€»ç»“æ–‡æ¡£
â””â”€â”€ frontend/                  # åŸé¡¹ç›®å‰ç«¯ç»„ä»¶ï¼ˆå¯é€‰å‚è€ƒï¼‰
```

## æ ¸å¿ƒåŠŸèƒ½

### 1. ğŸ›ï¸ ä»ªè¡¨ç›˜
- ç³»ç»Ÿæ¦‚è§ˆç»Ÿè®¡
- å®æ—¶æ•°æ®ç›‘æ§
- å¿«é€Ÿæ“ä½œå…¥å£
- æœ€è¿‘æ´»åŠ¨è®°å½•

### 2. ğŸŒ çŸ¥è¯†å›¾è°±
- äº¤äº’å¼å›¾è°±å¯è§†åŒ–
- èŠ‚ç‚¹å…³ç³»å±•ç¤º
- å›¾è°±ç»Ÿè®¡åˆ†æ
- èŠ‚ç‚¹æœç´¢å’Œç­›é€‰

### 3. ğŸ” æ™ºèƒ½æœç´¢
- å…¨æ–‡æ£€ç´¢åŠŸèƒ½
- å¤šç»´åº¦æœç´¢ç­›é€‰
- æœç´¢ç»“æœåˆ†æ
- çƒ­é—¨æœç´¢æ¨è

### 4. ğŸ“ æ–‡ä»¶ç®¡ç†
- æ–‡ä»¶ä¸Šä¼ ï¼ˆæ‹–æ‹½æ”¯æŒï¼‰
- æ–‡ä»¶ä¸‹è½½åŠŸèƒ½
- æ–‡ä»¶åˆ†ç±»ç®¡ç†
- æ–‡ä»¶ç»Ÿè®¡åˆ†æ

### 5. ğŸ“ æ–‡æ¡£ç¼–è¾‘
- Markdownç¼–è¾‘å™¨
- å®æ—¶é¢„è§ˆåŠŸèƒ½
- å†…éƒ¨é“¾æ¥æ”¯æŒ
- æ–‡æ¡£å¯¼å‡ºåŠŸèƒ½

### 6. ğŸ“Š æ•°æ®åˆ†æ
- å›¾è°±ç»Ÿè®¡åˆ†æ
- èŠ‚ç‚¹åˆ†å¸ƒå›¾è¡¨
- å…³ç³»ç±»å‹ç»Ÿè®¡
- ä¸­å¿ƒæ€§åˆ†æ

### 7. ğŸ“‹ æ ‡å‡†åº“
- EMCæ ‡å‡†æµè§ˆ
- æµ‹è¯•æ–¹æ³•åº“
- æ ‡å‡†è¯¦æƒ…æŸ¥çœ‹
- ç›¸å…³æ ‡å‡†æ¨è

### 8. âš™ï¸ ç³»ç»Ÿè®¾ç½®
- ç•Œé¢ä¸»é¢˜è®¾ç½®
- è¯­è¨€é…ç½®
- ç³»ç»Ÿä¿¡æ¯æŸ¥çœ‹
- è®¾ç½®å¯¼å…¥å¯¼å‡º

## éƒ¨ç½²æ–¹å¼

### æ–¹å¼ä¸€ï¼šç‹¬ç«‹WebæœåŠ¡å™¨éƒ¨ç½²

1. **ç¯å¢ƒè¦æ±‚**
   ```
   - WebæœåŠ¡å™¨ï¼ˆNginxã€Apacheã€IISç­‰ï¼‰
   - ç°ä»£æµè§ˆå™¨æ”¯æŒï¼ˆChromeã€Firefoxã€Safariã€Edgeï¼‰
   - å¯é€‰ï¼šHTTPSæ”¯æŒï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰
   ```

2. **éƒ¨ç½²æ­¥éª¤**
   ```bash
   # 1. å¤åˆ¶æ–‡ä»¶åˆ°WebæœåŠ¡å™¨æ ¹ç›®å½•
   cp emc_complete_client.html /var/www/html/index.html
   cp emc_client_modules.js /var/www/html/
   
   # 2. è®¾ç½®æ–‡ä»¶æƒé™
   chmod 644 /var/www/html/index.html
   chmod 644 /var/www/html/emc_client_modules.js
   
   # 3. é‡å¯WebæœåŠ¡å™¨
   sudo systemctl restart nginx  # æˆ– apache2
   ```

3. **Nginxé…ç½®ç¤ºä¾‹**
   ```nginx
   server {
       listen 80;
       server_name emc-knowledge-graph.local;
       root /var/www/html;
       index index.html;
       
       location / {
           try_files $uri $uri/ =404;
       }
       
       # å¯ç”¨GZIPå‹ç¼©
       gzip on;
       gzip_types text/html text/css application/javascript;
   }
   ```

### æ–¹å¼äºŒï¼šPythonç®€å•æœåŠ¡å™¨

```bash
# åœ¨é¡¹ç›®ç›®å½•ä¸­å¯åŠ¨
python3 -m http.server 8080

# è®¿é—®åœ°å€
# http://localhost:8080/emc_complete_client.html
```

### æ–¹å¼ä¸‰ï¼šNode.jsé™æ€æœåŠ¡å™¨

```bash
# å®‰è£…serveå·¥å…·
npm install -g serve

# å¯åŠ¨æœåŠ¡å™¨
serve . -p 8080

# è®¿é—®åœ°å€
# http://localhost:8080/emc_complete_client.html
```

### æ–¹å¼å››ï¼šDockeréƒ¨ç½²

1. **åˆ›å»ºDockerfile**
   ```dockerfile
   FROM nginx:alpine
   COPY emc_complete_client.html /usr/share/nginx/html/index.html
   COPY emc_client_modules.js /usr/share/nginx/html/
   EXPOSE 80
   ```

2. **æ„å»ºå’Œè¿è¡Œ**
   ```bash
   # æ„å»ºé•œåƒ
   docker build -t emc-knowledge-graph-client .
   
   # è¿è¡Œå®¹å™¨
   docker run -d -p 8080:80 emc-knowledge-graph-client
   ```

## é…ç½®è¯´æ˜

### åº”ç”¨é…ç½®

å®¢æˆ·ç«¯æ”¯æŒä»¥ä¸‹é…ç½®é€‰é¡¹ï¼ˆåœ¨`emc_complete_client.html`ä¸­ä¿®æ”¹ï¼‰ï¼š

```javascript
// å…¨å±€åº”ç”¨çŠ¶æ€é…ç½®
const AppState = {
    currentPage: 'dashboard',    // é»˜è®¤é¡µé¢
    sidebarCollapsed: false,     // ä¾§è¾¹æ çŠ¶æ€
    settings: {
        theme: 'light',          // ä¸»é¢˜æ¨¡å¼ï¼šlight/dark/auto
        language: 'zh-CN',       // è¯­è¨€è®¾ç½®
        autoSave: true           // è‡ªåŠ¨ä¿å­˜
    }
};
```

### APIé…ç½®

å¦‚æœéœ€è¦è¿æ¥åç«¯APIï¼Œè¯·åœ¨JavaScriptä¸­ä¿®æ”¹APIç«¯ç‚¹ï¼š

```javascript
// åœ¨emc_client_modules.jsä¸­ä¿®æ”¹
const API_BASE_URL = 'http://localhost:8000/api';  // ä¿®æ”¹ä¸ºå®é™…APIåœ°å€

// ç¤ºä¾‹APIè°ƒç”¨
async function loadNodes() {
    const response = await fetch(`${API_BASE_URL}/knowledge-graph/nodes`);
    return response.json();
}
```

### å¤–éƒ¨ä¾èµ–é…ç½®

å®¢æˆ·ç«¯ä½¿ç”¨ä»¥ä¸‹å¤–éƒ¨åº“ï¼ˆCDNæ–¹å¼åŠ è½½ï¼‰ï¼š

```html
<!-- å¯è§†åŒ–åº“ -->
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>

<!-- å›¾è¡¨åº“ -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Markdownæ¸²æŸ“ -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
```

## æµè§ˆå™¨å…¼å®¹æ€§

### æ”¯æŒçš„æµè§ˆå™¨

| æµè§ˆå™¨ | æœ€ä½ç‰ˆæœ¬ | æ¨èç‰ˆæœ¬ |
|--------|----------|----------|
| Chrome | 80+ | æœ€æ–°ç‰ˆ |
| Firefox | 75+ | æœ€æ–°ç‰ˆ |
| Safari | 13+ | æœ€æ–°ç‰ˆ |
| Edge | 80+ | æœ€æ–°ç‰ˆ |

### åŠŸèƒ½ç‰¹æ€§è¦æ±‚

- ES6+ JavaScriptæ”¯æŒ
- CSS Gridå’ŒFlexboxæ”¯æŒ
- Fetch APIæ”¯æŒ
- Canvas 2Dæ¸²æŸ“æ”¯æŒ
- LocalStorageæ”¯æŒ

## æ€§èƒ½ä¼˜åŒ–

### 1. èµ„æºä¼˜åŒ–
```bash
# å‹ç¼©JavaScriptï¼ˆå¯é€‰ï¼‰
npx terser emc_client_modules.js -o emc_client_modules.min.js

# å‹ç¼©CSSï¼ˆå†…è”æ ·å¼ï¼‰
# ä½¿ç”¨åœ¨çº¿CSSå‹ç¼©å·¥å…·
```

### 2. ç¼“å­˜ç­–ç•¥
```nginx
# Nginxç¼“å­˜é…ç½®
location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
}
```

### 3. å›¾ç‰‡ä¼˜åŒ–
- ä½¿ç”¨WebPæ ¼å¼å›¾åƒ
- å¯ç”¨å›¾åƒæ‡’åŠ è½½
- ä¼˜åŒ–å›¾æ ‡ä½¿ç”¨

## å®‰å…¨è€ƒè™‘

### 1. å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰
```html
<meta http-equiv="Content-Security-Policy" 
      content="default-src 'self'; 
               script-src 'self' 'unsafe-inline' https://d3js.org https://unpkg.com https://cdn.jsdelivr.net; 
               style-src 'self' 'unsafe-inline';">
```

### 2. æ•°æ®éªŒè¯
- ç”¨æˆ·è¾“å…¥éªŒè¯
- æ–‡ä»¶ä¸Šä¼ ç±»å‹æ£€æŸ¥
- XSSé˜²æŠ¤

### 3. HTTPSéƒ¨ç½²
```nginx
server {
    listen 443 ssl;
    ssl_certificate /path/to/certificate.crt;
    ssl_certificate_key /path/to/private.key;
    
    # å…¶ä»–é…ç½®...
}
```

## ç›‘æ§å’Œæ—¥å¿—

### 1. è®¿é—®æ—¥å¿—
```nginx
# Nginxè®¿é—®æ—¥å¿—é…ç½®
access_log /var/log/nginx/emc_access.log combined;
error_log /var/log/nginx/emc_error.log;
```

### 2. åº”ç”¨ç›‘æ§
```javascript
// åœ¨JavaScriptä¸­æ·»åŠ ç›‘æ§ä»£ç 
window.addEventListener('error', function(e) {
    console.error('åº”ç”¨é”™è¯¯:', e.error);
    // å‘é€é”™è¯¯æŠ¥å‘Šåˆ°ç›‘æ§æœåŠ¡
});
```

## ç»´æŠ¤å’Œæ›´æ–°

### 1. ç‰ˆæœ¬ç®¡ç†
- ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·
- ç»´æŠ¤æ›´æ–°æ—¥å¿—
- å¤‡ä»½é…ç½®æ–‡ä»¶

### 2. å®šæœŸç»´æŠ¤
- æ£€æŸ¥å¤–éƒ¨ä¾èµ–æ›´æ–°
- æ¸…ç†ä¸´æ—¶æ–‡ä»¶
- ä¼˜åŒ–æ€§èƒ½æŒ‡æ ‡

### 3. å¤‡ä»½ç­–ç•¥
```bash
# å¤‡ä»½è„šæœ¬ç¤ºä¾‹
#!/bin/bash
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="/backup/emc_client_$DATE"
mkdir -p $BACKUP_DIR
cp emc_complete_client.html $BACKUP_DIR/
cp emc_client_modules.js $BACKUP_DIR/
tar -czf "$BACKUP_DIR.tar.gz" $BACKUP_DIR
rm -rf $BACKUP_DIR
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **é¡µé¢æ— æ³•åŠ è½½**
   - æ£€æŸ¥WebæœåŠ¡å™¨çŠ¶æ€
   - éªŒè¯æ–‡ä»¶è·¯å¾„å’Œæƒé™
   - æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

2. **åŠŸèƒ½å¼‚å¸¸**
   - æ£€æŸ¥JavaScriptæ§åˆ¶å°é”™è¯¯
   - éªŒè¯å¤–éƒ¨ä¾èµ–åŠ è½½
   - ç¡®è®¤æµè§ˆå™¨å…¼å®¹æ€§

3. **æ€§èƒ½é—®é¢˜**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - ç›‘æ§èµ„æºä½¿ç”¨æƒ…å†µ
   - ä¼˜åŒ–å›¾ç‰‡å’Œè„šæœ¬

### è°ƒè¯•æ¨¡å¼

åœ¨æµè§ˆå™¨ä¸­å¯ç”¨è°ƒè¯•ï¼š

```javascript
// åœ¨æ§åˆ¶å°ä¸­è®¾ç½®è°ƒè¯•æ¨¡å¼
localStorage.setItem('debug', 'true');
// åˆ·æ–°é¡µé¢ä»¥å¯ç”¨è¯¦ç»†æ—¥å¿—
location.reload();
```

## è”ç³»æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–éœ€è¦æ”¯æŒï¼Œè¯·ï¼š

1. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
2. æ£€æŸ¥æ­¤æ–‡æ¡£çš„æ•…éšœæ’é™¤éƒ¨åˆ†
3. è”ç³»æŠ€æœ¯æ”¯æŒå›¢é˜Ÿ

---

**ç‰ˆæœ¬**: v1.0.0  
**æ›´æ–°æ—¥æœŸ**: 2025-06-13  
**ç»´æŠ¤è€…**: EMCçŸ¥è¯†å›¾è°±å¼€å‘å›¢é˜Ÿ