<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMCçŸ¥è¯†å›¾è°±ç³»ç»Ÿ - å®Œæ•´ç‰ˆ</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Microsoft YaHei', -apple-system, BlinkMacSystemFont, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .header { 
            background: rgba(255,255,255,0.95); 
            padding: 20px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }
        .nav { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            max-width: 1200px; 
            margin: 0 auto; 
        }
        .logo { 
            font-size: 1.8em; 
            font-weight: bold; 
            color: #2c3e50;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .nav-links { display: flex; gap: 20px; }
        .nav-links button { 
            padding: 8px 16px; 
            background: linear-gradient(45deg, #007bff, #0056b3); 
            color: white; 
            border: none; 
            border-radius: 20px; 
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .nav-links button:hover { transform: translateY(-2px); }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .stats-grid { 
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            gap: 15px; 
            margin-bottom: 20px; 
        }
        .stat-card { 
            background: linear-gradient(45deg, #007bff, #0056b3); 
            color: white; 
            padding: 20px; 
            border-radius: 10px; 
            text-align: center;
            backdrop-filter: blur(10px);
        }
        .stat-number { font-size: 2em; font-weight: bold; }
        .stat-label { margin-top: 5px; opacity: 0.9; }
        
        .tabs { 
            display: flex; 
            background: rgba(255,255,255,0.9); 
            border-radius: 10px 10px 0 0; 
            overflow: hidden;
        }
        .tab { 
            padding: 15px 25px; 
            cursor: pointer; 
            background: rgba(255,255,255,0.7); 
            border: none;
            transition: all 0.3s ease;
            font-weight: bold;
            flex: 1;
            text-align: center;
        }
        .tab.active { background: rgba(255,255,255,1); color: #007bff; }
        .tab:hover { background: rgba(255,255,255,0.9); }
        
        .content { 
            background: rgba(255,255,255,0.95); 
            min-height: 600px; 
            border-radius: 0 0 10px 10px;
            backdrop-filter: blur(10px);
        }
        
        .tab-content { display: none; padding: 30px; }
        .tab-content.active { display: block; }
        
        .graph-container { 
            display: grid; 
            grid-template-columns: 1fr 300px; 
            gap: 20px; 
            height: 500px; 
        }
        .graph-canvas { 
            border: 2px solid #ddd; 
            border-radius: 10px; 
            background: #f8f9fa;
            position: relative;
        }
        .graph-controls { 
            background: #f8f9fa; 
            padding: 20px; 
            border-radius: 10px; 
            border: 2px solid #ddd;
            overflow-y: auto;
        }
        
        .search-container { 
            display: grid; 
            grid-template-columns: 1fr 300px; 
            gap: 20px; 
        }
        .search-input { 
            display: flex; 
            gap: 10px; 
            margin-bottom: 20px; 
        }
        .search-input input { 
            flex: 1; 
            padding: 12px; 
            border: 2px solid #ddd; 
            border-radius: 8px; 
            font-size: 16px;
        }
        .search-input button { 
            padding: 12px 24px; 
            background: #007bff; 
            color: white; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer;
        }
        .search-results { 
            max-height: 400px; 
            overflow-y: auto; 
        }
        .result-item { 
            background: #f8f9fa; 
            padding: 15px; 
            margin: 10px 0; 
            border-radius: 8px; 
            border-left: 4px solid #007bff;
            cursor: pointer;
        }
        .result-item:hover { background: #e9ecef; }
        
        .upload-area { 
            border: 3px dashed #007bff; 
            border-radius: 10px; 
            padding: 40px; 
            text-align: center; 
            margin: 20px 0;
            transition: all 0.3s ease;
        }
        .upload-area:hover { background: rgba(0,123,255,0.05); }
        
        .analysis-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
            gap: 20px; 
            margin: 20px 0; 
        }
        .analysis-card { 
            background: #f8f9fa; 
            padding: 20px; 
            border-radius: 10px; 
            border-left: 4px solid #28a745;
        }
        
        .btn { 
            padding: 10px 20px; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            transition: all 0.3s ease;
            font-weight: bold;
            margin: 5px;
        }
        .btn-primary { background: #007bff; color: white; }
        .btn-success { background: #28a745; color: white; }
        .btn-warning { background: #ffc107; color: #333; }
        .btn-danger { background: #dc3545; color: white; }
        .btn-info { background: #17a2b8; color: white; }
        .btn:hover { transform: translateY(-1px); }
        
        .info-panel { 
            background: #f8f9fa; 
            padding: 15px; 
            border-radius: 8px; 
            margin: 10px 0;
        }
        .info-panel h4 { color: #495057; margin-bottom: 10px; }
        
        #graphVis { width: 100%; height: 100%; }
        
        .loading { 
            display: inline-block; 
            width: 20px; 
            height: 20px; 
            border: 3px solid #f3f3f3; 
            border-top: 3px solid #007bff; 
            border-radius: 50%; 
            animation: spin 1s linear infinite; 
        }
        @keyframes spin { 
            0% { transform: rotate(0deg); } 
            100% { transform: rotate(360deg); } 
        }
        
        @media (max-width: 768px) {
            .graph-container,
            .search-container { grid-template-columns: 1fr; }
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
            .nav { flex-direction: column; gap: 15px; }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="nav">
            <div class="logo">ğŸ›ï¸ EMCçŸ¥è¯†å›¾è°±ç³»ç»Ÿ</div>
            <div class="nav-links">
                <button onclick="refreshData()">ğŸ”„ åˆ·æ–°</button>
                <button onclick="exportData()">ğŸ“¤ å¯¼å‡º</button>
                <button onclick="showSettings()">âš™ï¸ è®¾ç½®</button>
                <button onclick="showHelp()">â“ å¸®åŠ©</button>
            </div>
        </div>
    </div>
    
    <div class="container">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="nodeCount">12</div>
                <div class="stat-label">çŸ¥è¯†èŠ‚ç‚¹</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="relCount">15</div>
                <div class="stat-label">å…³ç³»è¿æ¥</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="fileCount">8</div>
                <div class="stat-label">å¤„ç†æ–‡ä»¶</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">100%</div>
                <div class="stat-label">ç³»ç»Ÿå¥åº·</div>
            </div>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="showTab('graph')">ğŸŒ çŸ¥è¯†å›¾è°±</button>
            <button class="tab" onclick="showTab('search')">ğŸ” æ™ºèƒ½æœç´¢</button>
            <button class="tab" onclick="showTab('upload')">ğŸ“ æ–‡ä»¶å¤„ç†</button>
            <button class="tab" onclick="showTab('analysis')">ğŸ“Š çŸ¥è¯†åˆ†æ</button>
            <button class="tab" onclick="showTab('standards')">ğŸ“‹ æ ‡å‡†åº“</button>
        </div>
        
        <div class="content">
            <!-- çŸ¥è¯†å›¾è°±æ ‡ç­¾é¡µ -->
            <div id="graph" class="tab-content active">
                <h2>ğŸŒ EMCçŸ¥è¯†å›¾è°±å¯è§†åŒ–</h2>
                <div class="graph-container">
                    <div class="graph-canvas">
                        <div id="graphVis"></div>
                    </div>
                    <div class="graph-controls">
                        <h4>ğŸ›ï¸ å›¾è°±æ§åˆ¶</h4>
                        <button class="btn btn-primary" onclick="resetLayout()">ğŸ”„ é‡ç½®å¸ƒå±€</button>
                        <button class="btn btn-success" onclick="addNode()">â• æ·»åŠ èŠ‚ç‚¹</button>
                        <button class="btn btn-warning" onclick="exportGraph()">ğŸ“¤ å¯¼å‡ºå›¾è°±</button>
                        
                        <div class="info-panel">
                            <h4>ğŸ“‹ èŠ‚ç‚¹ä¿¡æ¯</h4>
                            <div id="nodeInfo">ç‚¹å‡»èŠ‚ç‚¹æŸ¥çœ‹è¯¦æƒ…</div>
                        </div>
                        
                        <div class="info-panel">
                            <h4>ğŸ¯ ç­›é€‰é€‰é¡¹</h4>
                            <label><input type="checkbox" checked onchange="filterNodes('è®¾å¤‡')"> è®¾å¤‡èŠ‚ç‚¹</label><br>
                            <label><input type="checkbox" checked onchange="filterNodes('æ ‡å‡†')"> æ ‡å‡†è§„èŒƒ</label><br>
                            <label><input type="checkbox" checked onchange="filterNodes('æµ‹è¯•')"> æµ‹è¯•æ–¹æ³•</label><br>
                            <label><input type="checkbox" checked onchange="filterNodes('äº§å“')"> äº§å“ä¿¡æ¯</label><br>
                            <label><input type="checkbox" checked onchange="filterNodes('ä¸“å®¶')"> ä¸“å®¶èµ„æº</label>
                        </div>
                        
                        <div class="info-panel">
                            <h4>ğŸ“Š å›¾è°±ç»Ÿè®¡</h4>
                            <p>èŠ‚ç‚¹å¯†åº¦: <span id="density">0.75</span></p>
                            <p>å¹³å‡åº¦æ•°: <span id="avgDegree">2.5</span></p>
                            <p>èšç±»ç³»æ•°: <span id="clustering">0.82</span></p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- æ™ºèƒ½æœç´¢æ ‡ç­¾é¡µ -->
            <div id="search" class="tab-content">
                <h2>ğŸ” EMCçŸ¥è¯†æ™ºèƒ½æœç´¢</h2>
                <div class="search-container">
                    <div>
                        <div class="search-input">
                            <input type="text" id="searchQuery" placeholder="è¾“å…¥æœç´¢å…³é”®è¯ï¼Œå¦‚ï¼šé™ç”µæ”¾ç”µã€GB/T 17626ã€æŠ—æ‰°åº¦..." onkeypress="if(event.key==='Enter') searchKnowledge()">
                            <button onclick="searchKnowledge()">ğŸ” æœç´¢</button>
                        </div>
                        <div class="search-results" id="searchResults">
                            <div class="info-panel">
                                <h4>ğŸ’¡ æœç´¢æç¤º</h4>
                                <p>â€¢ è¾“å…¥æ ‡å‡†å·ï¼šå¦‚ GB/T 17626.2</p>
                                <p>â€¢ è¾“å…¥æµ‹è¯•ç±»å‹ï¼šå¦‚ é™ç”µæ”¾ç”µæµ‹è¯•</p>
                                <p>â€¢ è¾“å…¥è®¾å¤‡åç§°ï¼šå¦‚ EMCæµ‹è¯•è®¾å¤‡</p>
                                <p>â€¢ è¾“å…¥äº§å“ç±»å‹ï¼šå¦‚ æ™ºèƒ½æ‰‹æœº</p>
                                <p>â€¢ æ”¯æŒæ¨¡ç³ŠåŒ¹é…å’Œæ™ºèƒ½æ¨è</p>
                            </div>
                        </div>
                    </div>
                    <div>
                        <div class="info-panel">
                            <h4>ğŸ¯ å¿«é€Ÿæœç´¢</h4>
                            <button class="btn btn-primary" onclick="quickSearch('GB/T 17626')" style="margin: 5px;">GB/T 17626</button>
                            <button class="btn btn-primary" onclick="quickSearch('é™ç”µæ”¾ç”µ')" style="margin: 5px;">é™ç”µæ”¾ç”µ</button>
                            <button class="btn btn-primary" onclick="quickSearch('EMCæµ‹è¯•')" style="margin: 5px;">EMCæµ‹è¯•</button>
                            <button class="btn btn-primary" onclick="quickSearch('æ™ºèƒ½æ‰‹æœº')" style="margin: 5px;">æ™ºèƒ½æ‰‹æœº</button>
                            <button class="btn btn-primary" onclick="quickSearch('ç”µæ³¢æš—å®¤')" style="margin: 5px;">ç”µæ³¢æš—å®¤</button>
                            <button class="btn btn-primary" onclick="quickSearch('æŠ—æ‰°åº¦')" style="margin: 5px;">æŠ—æ‰°åº¦</button>
                        </div>
                        
                        <div class="info-panel">
                            <h4>ğŸ“Š æœç´¢ç»Ÿè®¡</h4>
                            <p>æ€»èŠ‚ç‚¹æ•°: <span id="totalNodes">12</span></p>
                            <p>æ€»å…³ç³»æ•°: <span id="totalRels">15</span></p>
                            <p>æœç´¢æ¬¡æ•°: <span id="searchCount">0</span></p>
                            <p>çƒ­é—¨æœç´¢: EMCæµ‹è¯•</p>
                        </div>
                        
                        <div class="info-panel">
                            <h4>ğŸ¨ æœç´¢å†å²</h4>
                            <div id="searchHistory">æš‚æ— æœç´¢è®°å½•</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- æ–‡ä»¶å¤„ç†æ ‡ç­¾é¡µ -->
            <div id="upload" class="tab-content">
                <h2>ğŸ“ EMCæ–‡ä»¶å¤„ç†ä¸çŸ¥è¯†æŠ½å–</h2>
                <div class="upload-area" id="uploadArea">
                    <h3>ğŸ“¤ æ–‡ä»¶ä¸Šä¼ ä¸çŸ¥è¯†æŠ½å–</h3>
                    <p>æ”¯æŒæ ¼å¼: PDF, DOC, DOCX, TXT, XLS, XLSX</p>
                    <p>åŠŸèƒ½: è‡ªåŠ¨æå–EMCç›¸å…³å®ä½“ã€å…³ç³»å’Œæ¦‚å¿µ</p>
                    <button class="btn btn-primary" onclick="simulateFileUpload()">ğŸ“ æ¨¡æ‹Ÿæ–‡ä»¶ä¸Šä¼ </button>
                </div>
                
                <div class="analysis-grid">
                    <div class="analysis-card">
                        <h4>ğŸ“‹ æœ€è¿‘å¤„ç†çš„æ–‡ä»¶</h4>
                        <div id="recentFiles">
                            <p>â€¢ EMCæµ‹è¯•æŠ¥å‘Š_æ™ºèƒ½æ‰‹æœº.pdf (å·²å¤„ç†)</p>
                            <p>â€¢ GB_T_17626.2_é™ç”µæ”¾ç”µ.doc (å·²å¤„ç†)</p>
                            <p>â€¢ æ±½è½¦EMCæ ‡å‡†å¯¹æ¯”.xlsx (å·²å¤„ç†)</p>
                            <p>â€¢ 5Gè®¾å¤‡EMCè¦æ±‚.txt (å·²å¤„ç†)</p>
                        </div>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>ğŸ§  çŸ¥è¯†æŠ½å–ç»“æœ</h4>
                        <div id="extractionResults">
                            <p><strong>å®ä½“è¯†åˆ«:</strong> é™ç”µæ”¾ç”µã€IEC 61000-4-2ã€Â±4kV</p>
                            <p><strong>å…³ç³»æŠ½å–:</strong> æµ‹è¯•ä¾æ®-å‚è€ƒ-æ ‡å‡†</p>
                            <p><strong>æ¦‚å¿µå‘ç°:</strong> ESDæµ‹è¯•ã€æŠ—æ‰°åº¦ç­‰çº§</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- çŸ¥è¯†åˆ†ææ ‡ç­¾é¡µ -->
            <div id="analysis" class="tab-content">
                <h2>ğŸ“Š EMCçŸ¥è¯†åˆ†æä¸æŒ–æ˜</h2>
                <div class="analysis-grid">
                    <div class="analysis-card">
                        <h4>ğŸ¯ èŠ‚ç‚¹ä¸­å¿ƒæ€§åˆ†æ</h4>
                        <div id="centralityAnalysis">
                            <p><strong>åº¦ä¸­å¿ƒæ€§æœ€é«˜:</strong> GB/T 17626ç³»åˆ—æ ‡å‡† (è¿æ¥åº¦: 6)</p>
                            <p><strong>ä»‹æ•°ä¸­å¿ƒæ€§æœ€é«˜:</strong> æŠ—æ‰°åº¦æµ‹è¯• (0.85)</p>
                            <p><strong>æ¥è¿‘ä¸­å¿ƒæ€§æœ€é«˜:</strong> EMCæµ‹è¯•è®¾å¤‡ (0.92)</p>
                            <p><strong>ç‰¹å¾å‘é‡ä¸­å¿ƒæ€§:</strong> IEC 61000ç³»åˆ— (0.78)</p>
                        </div>
                        <button class="btn btn-info" onclick="runCentralityAnalysis()">ğŸ”„ é‡æ–°åˆ†æ</button>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>ğŸŒ ç¤¾åŒºå‘ç°</h4>
                        <div id="communityAnalysis">
                            <p><strong>æµ‹è¯•è®¾å¤‡ç¤¾åŒº:</strong> EMCè®¾å¤‡ã€ç”µæ³¢æš—å®¤ã€å¼ å·¥ç¨‹å¸ˆ</p>
                            <p><strong>æ ‡å‡†è§„èŒƒç¤¾åŒº:</strong> GB/T 17626ã€IEC 61000</p>
                            <p><strong>äº§å“æµ‹è¯•ç¤¾åŒº:</strong> æ™ºèƒ½æ‰‹æœºã€æŠ—æ‰°åº¦æµ‹è¯•ã€æµ‹è¯•æŠ¥å‘Š</p>
                            <p><strong>æ¨¡å—åŒ–åº¦:</strong> 0.73 (ç¤¾åŒºç»“æ„æ¸…æ™°)</p>
                        </div>
                        <button class="btn btn-info" onclick="runCommunityDetection()">ğŸ”„ é‡æ–°èšç±»</button>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>ğŸ“ˆ çŸ¥è¯†æ¼”åŒ–è¶‹åŠ¿</h4>
                        <div id="evolutionAnalysis">
                            <p><strong>2020-2022:</strong> 5G EMCæµ‹è¯•æ ‡å‡†å¿«é€Ÿå‘å±•</p>
                            <p><strong>2022-2024:</strong> æ±½è½¦ç”µå­EMCè¦æ±‚å¤§å¹…æå‡</p>
                            <p><strong>2024-æœªæ¥:</strong> AIè¾…åŠ©EMCè®¾è®¡æˆä¸ºè¶‹åŠ¿</p>
                            <p><strong>æ–°å…´é¢†åŸŸ:</strong> æ¯«ç±³æ³¢ã€ç‰©è”ç½‘ã€æ–°èƒ½æº</p>
                        </div>
                        <button class="btn btn-info" onclick="analyzeEvolution()">ğŸ“Š æŸ¥çœ‹è¯¦æƒ…</button>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>ğŸ” çŸ¥è¯†ç¼ºå£è¯†åˆ«</h4>
                        <div id="gapAnalysis">
                            <p><strong>ç¼ºå¤±é¢†åŸŸ:</strong> æ¯«ç±³æ³¢EMCæµ‹è¯•æ–¹æ³•</p>
                            <p><strong>å¾…å®Œå–„:</strong> æ–°èƒ½æºæ±½è½¦EMCæ ‡å‡†ä½“ç³»</p>
                            <p><strong>æ¨èè¡¥å……:</strong> å·¥ä¸š4.0 EMCè®¾è®¡æŒ‡å—</p>
                            <p><strong>æŠ€æœ¯ç©ºç™½:</strong> 6Gé€šä¿¡EMCé¢„ç ”æ ‡å‡†</p>
                        </div>
                        <button class="btn btn-warning" onclick="identifyGaps()">ğŸ” æ·±åº¦åˆ†æ</button>
                    </div>
                </div>
                
                <div class="analysis-grid">
                    <div class="analysis-card">
                        <h4>ğŸ“Š çŸ¥è¯†è´¨é‡è¯„ä¼°</h4>
                        <div>
                            <p><strong>å®Œæ•´æ€§:</strong> 85% (ç¼ºå°‘éƒ¨åˆ†æµ‹è¯•æ•°æ®)</p>
                            <p><strong>å‡†ç¡®æ€§:</strong> 92% (åŸºäºä¸“å®¶éªŒè¯)</p>
                            <p><strong>æ—¶æ•ˆæ€§:</strong> 78% (éƒ¨åˆ†æ ‡å‡†éœ€æ›´æ–°)</p>
                            <p><strong>ä¸€è‡´æ€§:</strong> 88% (å­˜åœ¨å°‘é‡å†²çª)</p>
                        </div>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>ğŸ¯ æ¨èä¼˜åŒ–</h4>
                        <div>
                            <p>â€¢ è¡¥å……è½¦è”ç½‘EMCæµ‹è¯•æ¡ˆä¾‹</p>
                            <p>â€¢ æ›´æ–°5GåŸºç«™EMCæ ‡å‡†</p>
                            <p>â€¢ å¢åŠ AIè®¾å¤‡EMCè®¾è®¡æŒ‡å—</p>
                            <p>â€¢ å®Œå–„æµ‹è¯•è®¾å¤‡æ ¡å‡†æµç¨‹</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- æ ‡å‡†åº“æ ‡ç­¾é¡µ -->
            <div id="standards" class="tab-content">
                <h2>ğŸ“‹ EMCæ ‡å‡†çŸ¥è¯†åº“</h2>
                <div class="analysis-grid">
                    <div class="analysis-card">
                        <h4>ğŸ‡¨ğŸ‡³ å›½å®¶æ ‡å‡† (GB/T)</h4>
                        <div id="gbStandards">
                            <p><strong>GB/T 17626.1:</strong> æ¦‚è¿° (2018ç‰ˆ)</p>
                            <p><strong>GB/T 17626.2:</strong> é™ç”µæ”¾ç”µæŠ—æ‰°åº¦è¯•éªŒ</p>
                            <p><strong>GB/T 17626.3:</strong> å°„é¢‘ç”µç£åœºè¾å°„æŠ—æ‰°åº¦è¯•éªŒ</p>
                            <p><strong>GB/T 17626.4:</strong> ç”µå¿«é€Ÿç¬å˜è„‰å†²ç¾¤æŠ—æ‰°åº¦è¯•éªŒ</p>
                            <p><strong>GB/T 17626.5:</strong> æµªæ¶Œ(å†²å‡»)æŠ—æ‰°åº¦è¯•éªŒ</p>
                            <p><strong>GB/T 6113:</strong> æ— çº¿ç”µéªšæ‰°å’ŒæŠ—æ‰°åº¦æµ‹é‡</p>
                        </div>
                        <button class="btn btn-info" onclick="showStandardDetails('GB/T 17626')">ğŸ“– æŸ¥çœ‹è¯¦æƒ…</button>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>ğŸŒ å›½é™…æ ‡å‡† (IEC)</h4>
                        <div id="iecStandards">
                            <p><strong>IEC 61000-1:</strong> æ€»åˆ™ - åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­</p>
                            <p><strong>IEC 61000-2:</strong> ç¯å¢ƒ - ç”µç£ç¯å¢ƒæè¿°</p>
                            <p><strong>IEC 61000-3:</strong> é™å€¼ - å‘å°„é™å€¼æ ‡å‡†</p>
                            <p><strong>IEC 61000-4:</strong> è¯•éªŒå’Œæµ‹é‡æŠ€æœ¯</p>
                            <p><strong>IEC 61000-5:</strong> å®‰è£…å’Œå‡ç¼“å¯¼åˆ™</p>
                            <p><strong>IEC 61000-6:</strong> é€šç”¨æ ‡å‡†</p>
                        </div>
                        <button class="btn btn-info" onclick="showStandardDetails('IEC 61000')">ğŸ“– æŸ¥çœ‹è¯¦æƒ…</button>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>ğŸš— è¡Œä¸šæ ‡å‡†</h4>
                        <div id="industryStandards">
                            <p><strong>CISPR 25:</strong> è½¦ç”¨è®¾å¤‡EMCè¦æ±‚å’Œæµ‹è¯•æ–¹æ³•</p>
                            <p><strong>ISO 11452:</strong> é“è·¯è½¦è¾†EMCæŠ—æ‰°åº¦æµ‹è¯•</p>
                            <p><strong>ISO 11451:</strong> é“è·¯è½¦è¾†EMCå‘å°„æµ‹è¯•</p>
                            <p><strong>SAE J1113:</strong> æ±½è½¦EMCæµ‹è¯•ç¨‹åº</p>
                            <p><strong>RTCA DO-160:</strong> æœºè½½è®¾å¤‡EMCè¦æ±‚</p>
                            <p><strong>MIL-STD-461:</strong> å†›ç”¨è®¾å¤‡EMCè¦æ±‚</p>
                        </div>
                        <button class="btn btn-info" onclick="showStandardDetails('CISPR 25')">ğŸ“– æŸ¥çœ‹è¯¦æƒ…</button>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>ğŸ§ª æµ‹è¯•æ–¹æ³•åº“</h4>
                        <div id="testMethods">
                            <p><strong>ä¼ å¯¼å‘å°„:</strong> 150kHz-30MHz (LISNæ³•)</p>
                            <p><strong>è¾å°„å‘å°„:</strong> 30MHz-1GHz (å¤©çº¿æ³•)</p>
                            <p><strong>é™ç”µæ”¾ç”µ:</strong> Â±2kV-Â±15kV (IEC 61000-4-2)</p>
                            <p><strong>å°„é¢‘æŠ—æ‰°:</strong> 80MHz-1GHz (IEC 61000-4-3)</p>
                            <p><strong>è„‰å†²ç¾¤:</strong> Â±0.5kV-Â±4kV (IEC 61000-4-4)</p>
                            <p><strong>æµªæ¶Œ:</strong> Â±0.5kV-Â±4kV (IEC 61000-4-5)</p>
                        </div>
                        <button class="btn btn-success" onclick="runTestSimulation()">ğŸ§ª æµ‹è¯•ä»¿çœŸ</button>
                    </div>
                </div>
                
                <div class="analysis-grid">
                    <div class="analysis-card">
                        <h4>ğŸ“š åº”ç”¨æŒ‡å—</h4>
                        <div>
                            <p>â€¢ æ¶ˆè´¹ç”µå­äº§å“EMCè®¾è®¡æŒ‡å—</p>
                            <p>â€¢ å·¥ä¸šæ§åˆ¶è®¾å¤‡EMCæµ‹è¯•æŒ‡å—</p>
                            <p>â€¢ æ–°èƒ½æºæ±½è½¦EMCåˆè§„æŒ‡å—</p>
                            <p>â€¢ åŒ»ç–—è®¾å¤‡EMCå®‰å…¨æŒ‡å—</p>
                        </div>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>ğŸ“ åŸ¹è®­èµ„æº</h4>
                        <div>
                            <p>â€¢ EMCåŸºç¡€ç†è®ºè¯¾ç¨‹ (20å­¦æ—¶)</p>
                            <p>â€¢ æµ‹è¯•è®¾å¤‡æ“ä½œåŸ¹è®­ (16å­¦æ—¶)</p>
                            <p>â€¢ æ ‡å‡†è§£è¯»ä¸åº”ç”¨ (12å­¦æ—¶)</p>
                            <p>â€¢ æ¡ˆä¾‹åˆ†æä¸å®è·µ (24å­¦æ—¶)</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // å®Œæ•´çš„EMCçŸ¥è¯†å›¾è°±æ•°æ®
        const knowledgeBase = {
            nodes: [
                {
                    id: "emc_device_001",
                    label: "EMCæµ‹è¯•è®¾å¤‡",
                    type: "è®¾å¤‡",
                    category: "æµ‹è¯•è®¾å¤‡",
                    properties: {
                        "å‹å·": "EMI-9KB",
                        "å‚å•†": "ç½—å¾·ä¸æ–½ç“¦èŒ¨",
                        "é¢‘ç‡èŒƒå›´": "9kHz-30MHz",
                        "ç”¨é€”": "ä¼ å¯¼å‘å°„æµ‹è¯•"
                    }
                },
                {
                    id: "std_gb17626",
                    label: "GB/T 17626ç³»åˆ—æ ‡å‡†",
                    type: "æ ‡å‡†",
                    category: "å›½å®¶æ ‡å‡†",
                    properties: {
                        "å‘å¸ƒæœºæ„": "å›½å®¶æ ‡å‡†åŒ–å§”å‘˜ä¼š",
                        "é€‚ç”¨èŒƒå›´": "ç”µç£å…¼å®¹è¯•éªŒå’Œæµ‹é‡æŠ€æœ¯",
                        "æœ€æ–°ç‰ˆæœ¬": "2018ç‰ˆ",
                        "æ›¿ä»£å…³ç³»": "ç­‰åŒé‡‡ç”¨IEC 61000-4ç³»åˆ—"
                    }
                },
                {
                    id: "test_immunity",
                    label: "æŠ—æ‰°åº¦æµ‹è¯•",
                    type: "æµ‹è¯•",
                    category: "EMCæµ‹è¯•",
                    properties: {
                        "æµ‹è¯•ç±»å‹": "ç”µç£æŠ—æ‰°åº¦",
                        "æµ‹è¯•å¯¹è±¡": "ç”µå­ç”µå™¨äº§å“",
                        "æµ‹è¯•ç¯å¢ƒ": "ç”µæ³¢æš—å®¤",
                        "åˆæ ¼æ ‡å‡†": "åŠŸèƒ½æ­£å¸¸æˆ–æ€§èƒ½é™çº§åœ¨å¯æ¥å—èŒƒå›´"
                    }
                },
                {
                    id: "report_001",
                    label: "EMCæµ‹è¯•æŠ¥å‘Š",
                    type: "æ–‡æ¡£",
                    category: "æµ‹è¯•æŠ¥å‘Š",
                    properties: {
                        "æŠ¥å‘Šç¼–å·": "EMC-2024-001",
                        "æµ‹è¯•äº§å“": "æ™ºèƒ½æ‰‹æœº",
                        "æµ‹è¯•æ—¥æœŸ": "2024-01-15",
                        "æµ‹è¯•ç»“è®º": "åˆæ ¼",
                        "æœ‰æ•ˆæœŸ": "3å¹´"
                    }
                },
                {
                    id: "product_phone",
                    label: "æ™ºèƒ½æ‰‹æœº",
                    type: "äº§å“",
                    category: "æ¶ˆè´¹ç”µå­",
                    properties: {
                        "å“ç‰Œ": "åä¸º",
                        "å‹å·": "Mate60 Pro",
                        "å·¥ä½œé¢‘æ®µ": "GSM/WCDMA/LTE/5G",
                        "EMCè¦æ±‚": "æ»¡è¶³CCCè®¤è¯è¦æ±‚"
                    }
                },
                {
                    id: "std_iec61000",
                    label: "IEC 61000ç³»åˆ—",
                    type: "æ ‡å‡†",
                    category: "å›½é™…æ ‡å‡†",
                    properties: {
                        "å‘å¸ƒæœºæ„": "å›½é™…ç”µå·¥å§”å‘˜ä¼š",
                        "æ ‡å‡†æ€§è´¨": "ç”µç£å…¼å®¹åŸºç¡€æ ‡å‡†",
                        "æ„æˆ": "6ä¸ªéƒ¨åˆ†å…±100+å­æ ‡å‡†",
                        "åº”ç”¨èŒƒå›´": "å…¨çƒEMCæ ‡å‡†åŸºç¡€"
                    }
                },
                {
                    id: "facility_chamber",
                    label: "ç”µæ³¢æš—å®¤",
                    type: "è®¾æ–½",
                    category: "æµ‹è¯•ç¯å¢ƒ",
                    properties: {
                        "ç±»å‹": "å…¨ç”µæ³¢æš—å®¤",
                        "å°ºå¯¸": "10mÃ—6mÃ—6m",
                        "é¢‘ç‡èŒƒå›´": "30MHz-18GHz",
                        "æœ€ä½é™åŒº": "1.5mÃ—1.5mÃ—1.5m"
                    }
                },
                {
                    id: "expert_zhang",
                    label: "å¼ å·¥ç¨‹å¸ˆ",
                    type: "ä¸“å®¶",
                    category: "EMCä¸“å®¶",
                    properties: {
                        "èŒç§°": "é«˜çº§å·¥ç¨‹å¸ˆ",
                        "ä¸“ä¸š": "ç”µç£å…¼å®¹",
                        "ç»éªŒ": "15å¹´EMCæµ‹è¯•ç»éªŒ",
                        "è®¤è¯": "NARTE EMCå·¥ç¨‹å¸ˆ"
                    }
                },
                {
                    id: "std_cispr25",
                    label: "CISPR 25æ ‡å‡†",
                    type: "æ ‡å‡†",
                    category: "è¡Œä¸šæ ‡å‡†",
                    properties: {
                        "åº”ç”¨é¢†åŸŸ": "æ±½è½¦ç”µå­EMC",
                        "é¢‘ç‡èŒƒå›´": "150kHz-2.5GHz",
                        "æµ‹è¯•é¡¹ç›®": "ä¼ å¯¼å’Œè¾å°„å‘å°„/æŠ—æ‰°åº¦",
                        "æœ€æ–°ç‰ˆæœ¬": "2016ç‰ˆ"
                    }
                },
                {
                    id: "test_esd",
                    label: "é™ç”µæ”¾ç”µæµ‹è¯•",
                    type: "æµ‹è¯•",
                    category: "æŠ—æ‰°åº¦æµ‹è¯•",
                    properties: {
                        "æµ‹è¯•ç”µå‹": "Â±2kV-Â±15kV",
                        "æ¥è§¦æ”¾ç”µ": "Â±2kVã€Â±4kVã€Â±6kVã€Â±8kV",
                        "ç©ºæ°”æ”¾ç”µ": "Â±2kVã€Â±4kVã€Â±8kVã€Â±15kV",
                        "æ ‡å‡†ä¾æ®": "IEC 61000-4-2"
                    }
                },
                {
                    id: "equipment_esd",
                    label: "ESDå‘ç”Ÿå™¨",
                    type: "è®¾å¤‡",
                    category: "æµ‹è¯•è®¾å¤‡",
                    properties: {
                        "å‹å·": "NoiseKen ESS-S3011",
                        "ç”µå‹èŒƒå›´": "Â±200V-Â±30kV",
                        "æ”¾ç”µç½‘ç»œ": "150pF/330Î©",
                        "é‡å¤é¢‘ç‡": "å•æ¬¡æˆ–20æ¬¡/s"
                    }
                },
                {
                    id: "product_ecu",
                    label: "æ±½è½¦ECU",
                    type: "äº§å“",
                    category: "æ±½è½¦ç”µå­",
                    properties: {
                        "åŠŸèƒ½": "å‘åŠ¨æœºæ§åˆ¶å•å…ƒ",
                        "å·¥ä½œç”µå‹": "12V/24V",
                        "EMCç­‰çº§": "Class 5 (CISPR 25)",
                        "ç¯å¢ƒç­‰çº§": "æ±½è½¦çº§"
                    }
                }
            ],
            relationships: [
                {
                    id: "rel_001",
                    source: "emc_device_001",
                    target: "test_immunity",
                    label: "ç”¨äºæ‰§è¡Œ",
                    type: "æ‰§è¡Œå…³ç³»"
                },
                {
                    id: "rel_002", 
                    source: "std_gb17626",
                    target: "test_immunity",
                    label: "æµ‹è¯•ä¾æ®",
                    type: "ä¾æ®å…³ç³»"
                },
                {
                    id: "rel_003",
                    source: "test_immunity",
                    target: "report_001",
                    label: "äº§ç”Ÿ",
                    type: "äº§å‡ºå…³ç³»"
                },
                {
                    id: "rel_004",
                    source: "product_phone",
                    target: "test_immunity", 
                    label: "æ¥å—æµ‹è¯•",
                    type: "æµ‹è¯•å…³ç³»"
                },
                {
                    id: "rel_005",
                    source: "std_iec61000",
                    target: "std_gb17626",
                    label: "å›½é™…åŸºç¡€",
                    type: "å‚è€ƒå…³ç³»"
                },
                {
                    id: "rel_006",
                    source: "facility_chamber",
                    target: "test_immunity",
                    label: "æµ‹è¯•ç¯å¢ƒ",
                    type: "ç¯å¢ƒå…³ç³»"
                },
                {
                    id: "rel_007",
                    source: "expert_zhang",
                    target: "test_immunity",
                    label: "è´Ÿè´£æ‰§è¡Œ",
                    type: "è´£ä»»å…³ç³»"
                },
                {
                    id: "rel_008",
                    source: "std_cispr25",
                    target: "product_ecu",
                    label: "é€‚ç”¨æ ‡å‡†",
                    type: "é€‚ç”¨å…³ç³»"
                },
                {
                    id: "rel_009",
                    source: "test_esd",
                    target: "test_immunity",
                    label: "åŒ…å«äº",
                    type: "åŒ…å«å…³ç³»"
                },
                {
                    id: "rel_010",
                    source: "equipment_esd",
                    target: "test_esd",
                    label: "æ‰§è¡Œè®¾å¤‡",
                    type: "è®¾å¤‡å…³ç³»"
                },
                {
                    id: "rel_011",
                    source: "std_iec61000",
                    target: "test_esd",
                    label: "æ ‡å‡†ä¾æ®",
                    type: "æ ‡å‡†å…³ç³»"
                },
                {
                    id: "rel_012",
                    source: "product_ecu",
                    target: "test_esd",
                    label: "éœ€è¦æµ‹è¯•",
                    type: "éœ€æ±‚å…³ç³»"
                },
                {
                    id: "rel_013",
                    source: "facility_chamber",
                    target: "equipment_esd",
                    label: "å®‰è£…ç¯å¢ƒ",
                    type: "å®‰è£…å…³ç³»"
                },
                {
                    id: "rel_014",
                    source: "expert_zhang",
                    target: "equipment_esd",
                    label: "æ“ä½œä½¿ç”¨",
                    type: "æ“ä½œå…³ç³»"
                },
                {
                    id: "rel_015",
                    source: "std_cispr25",
                    target: "std_iec61000",
                    label: "å¼•ç”¨åŸºç¡€",
                    type: "å¼•ç”¨å…³ç³»"
                }
            ]
        };
        
        // å…¨å±€å˜é‡
        let network = null;
        let nodes = null;
        let edges = null;
        let searchCount = 0;
        let searchHistory = [];
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeGraph();
            updateStatistics();
        });
        
        // æ ‡ç­¾é¡µåˆ‡æ¢
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            if (tabName === 'graph' && network) {
                network.redraw();
            }
        }
        
        // åˆå§‹åŒ–çŸ¥è¯†å›¾è°±
        function initializeGraph() {
            const container = document.getElementById('graphVis');
            
            nodes = new vis.DataSet();
            edges = new vis.DataSet();
            
            const data = { nodes: nodes, edges: edges };
            
            const options = {
                nodes: {
                    shape: 'dot',
                    size: 25,
                    font: { size: 14, color: '#333' },
                    borderWidth: 2,
                    shadow: true,
                    chosen: { node: true }
                },
                edges: {
                    width: 2,
                    color: { color: '#848484', highlight: '#2B7CE9' },
                    arrows: { to: { enabled: true, scaleFactor: 1 } },
                    smooth: { type: 'dynamic' },
                    font: { align: 'middle', size: 11 }
                },
                physics: {
                    barnesHut: { gravitationalConstant: -8000, springConstant: 0.001, springLength: 200 },
                    stabilization: { iterations: 150 }
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 200
                }
            };
            
            network = new vis.Network(container, data, options);
            
            // äº‹ä»¶ç›‘å¬
            network.on('click', function(params) {
                if (params.nodes.length > 0) {
                    showNodeDetails(params.nodes[0]);
                }
            });
            
            network.on('hoverNode', function(params) {
                container.style.cursor = 'pointer';
            });
            
            network.on('blurNode', function(params) {
                container.style.cursor = 'default';
            });
            
            updateGraph();
        }
        
        // æ›´æ–°å›¾è°±
        function updateGraph() {
            if (!knowledgeBase || !network) return;
            
            const visNodes = knowledgeBase.nodes.map(node => ({
                id: node.id,
                label: node.label,
                title: `ç±»å‹: ${node.type}\\nç±»åˆ«: ${node.category || 'æœªåˆ†ç±»'}`,
                color: getNodeColor(node.type),
                size: 25,
                font: { size: 12 }
            }));
            
            const visEdges = knowledgeBase.relationships.map(rel => ({
                id: rel.id,
                from: rel.source,
                to: rel.target,
                label: rel.label,
                title: `å…³ç³»: ${rel.type}`,
                width: 2
            }));
            
            nodes.clear();
            edges.clear();
            nodes.add(visNodes);
            edges.add(visEdges);
            
            updateGraphStats();
        }
        
        // è·å–èŠ‚ç‚¹é¢œè‰²
        function getNodeColor(type) {
            const colors = {
                'è®¾å¤‡': '#FF6B6B',
                'æ ‡å‡†': '#4ECDC4', 
                'æµ‹è¯•': '#45B7D1',
                'äº§å“': '#96CEB4',
                'æ–‡æ¡£': '#FECA57',
                'è®¾æ–½': '#FF9FF3',
                'ä¸“å®¶': '#54A0FF'
            };
            return colors[type] || '#95A5A6';
        }
        
        // æ˜¾ç¤ºèŠ‚ç‚¹è¯¦æƒ…
        function showNodeDetails(nodeId) {
            const node = knowledgeBase.nodes.find(n => n.id === nodeId);
            if (!node) return;
            
            let details = `<h5>${node.label}</h5>`;
            details += `<p><strong>ç±»å‹:</strong> ${node.type}</p>`;
            details += `<p><strong>ç±»åˆ«:</strong> ${node.category || 'æœªåˆ†ç±»'}</p>`;
            
            if (node.properties) {
                details += '<p><strong>å±æ€§:</strong></p>';
                for (const [key, value] of Object.entries(node.properties)) {
                    details += `<p>â€¢ ${key}: ${value}</p>`;
                }
            }
            
            document.getElementById('nodeInfo').innerHTML = details;
        }
        
        // é‡ç½®å¸ƒå±€
        function resetLayout() {
            if (network) {
                network.setOptions({ physics: { enabled: true } });
                network.stabilize();
            }
        }
        
        // æ·»åŠ èŠ‚ç‚¹
        function addNode() {
            const label = prompt('è¯·è¾“å…¥èŠ‚ç‚¹åç§°:');
            if (!label) return;
            
            const type = prompt('è¯·è¾“å…¥èŠ‚ç‚¹ç±»å‹ (è®¾å¤‡/æ ‡å‡†/æµ‹è¯•/äº§å“/æ–‡æ¡£/è®¾æ–½/ä¸“å®¶):') || 'å…¶ä»–';
            
            const newNode = {
                id: 'node_' + Date.now(),
                label: label,
                type: type,
                category: 'ç”¨æˆ·æ·»åŠ ',
                properties: { 'åˆ›å»ºæ—¶é—´': new Date().toLocaleString() }
            };
            
            knowledgeBase.nodes.push(newNode);
            updateGraph();
            updateStatistics();
        }
        
        // æ™ºèƒ½æœç´¢
        function searchKnowledge() {
            const query = document.getElementById('searchQuery').value.trim();
            if (!query) return;
            
            searchCount++;
            document.getElementById('searchCount').textContent = searchCount;
            
            // æ·»åŠ åˆ°æœç´¢å†å²
            if (!searchHistory.includes(query)) {
                searchHistory.unshift(query);
                if (searchHistory.length > 5) searchHistory.pop();
                updateSearchHistory();
            }
            
            const results = performSearch(query);
            displaySearchResults(results);
        }
        
        // æ‰§è¡Œæœç´¢
        function performSearch(query) {
            const results = [];
            const queryLower = query.toLowerCase();
            
            knowledgeBase.nodes.forEach(node => {
                let score = 0;
                if (queryLower === node.label.toLowerCase()) score += 20;
                else if (node.label.toLowerCase().includes(queryLower)) score += 10;
                
                if (queryLower === node.type.toLowerCase()) score += 15;
                else if (node.type.toLowerCase().includes(queryLower)) score += 5;
                
                if (node.category && node.category.toLowerCase().includes(queryLower)) score += 3;
                
                if (node.properties) {
                    Object.entries(node.properties).forEach(([key, value]) => {
                        if (String(value).toLowerCase().includes(queryLower)) score += 2;
                        if (key.toLowerCase().includes(queryLower)) score += 1;
                    });
                }
                
                if (score > 0) {
                    results.push({ ...node, score });
                }
            });
            
            return results.sort((a, b) => b.score - a.score).slice(0, 10);
        }
        
        // å¿«é€Ÿæœç´¢
        function quickSearch(query) {
            document.getElementById('searchQuery').value = query;
            searchKnowledge();
        }
        
        // æ˜¾ç¤ºæœç´¢ç»“æœ
        function displaySearchResults(results) {
            const container = document.getElementById('searchResults');
            
            if (results.length === 0) {
                container.innerHTML = '<div class="info-panel"><h4>ğŸ” æœªæ‰¾åˆ°ç›¸å…³ç»“æœ</h4><p>è¯·å°è¯•å…¶ä»–å…³é”®è¯</p></div>';
                return;
            }
            
            let html = `<h4>ğŸ” æœç´¢ç»“æœ (å…±${results.length}æ¡)</h4>`;
            
            results.forEach(item => {
                html += `
                    <div class="result-item" onclick="highlightNode('${item.id}')">
                        <h5>${item.label}</h5>
                        <p><strong>ç±»å‹:</strong> ${item.type} | <strong>ç±»åˆ«:</strong> ${item.category || 'æœªåˆ†ç±»'} | <strong>ç›¸å…³æ€§:</strong> ${item.score}åˆ†</p>
                        ${item.properties ? Object.entries(item.properties).slice(0, 2).map(([k,v]) => `<p>â€¢ ${k}: ${v}</p>`).join('') : ''}
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        // é«˜äº®èŠ‚ç‚¹
        function highlightNode(nodeId) {
            if (network) {
                network.selectNodes([nodeId]);
                network.focus(nodeId, { animation: true });
                showTab('graph');
                document.querySelector('.tab').click();
                showNodeDetails(nodeId);
            }
        }
        
        // æ›´æ–°æœç´¢å†å²
        function updateSearchHistory() {
            const container = document.getElementById('searchHistory');
            if (searchHistory.length === 0) {
                container.innerHTML = 'æš‚æ— æœç´¢è®°å½•';
            } else {
                container.innerHTML = searchHistory.map(h => 
                    `<p onclick="quickSearch('${h}')" style="cursor: pointer; color: #007bff;">â€¢ ${h}</p>`
                ).join('');
            }
        }
        
        // æ¨¡æ‹Ÿæ–‡ä»¶ä¸Šä¼ 
        function simulateFileUpload() {
            const files = [
                'æ–°èƒ½æºæ±½è½¦EMCæµ‹è¯•æŠ¥å‘Š.pdf',
                '5GåŸºç«™EMCåˆè§„æŒ‡å—.docx', 
                'IoTè®¾å¤‡EMCè®¾è®¡è§„èŒƒ.txt',
                'æ¯«ç±³æ³¢é›·è¾¾EMCæµ‹è¯•æ–¹æ³•.xlsx'
            ];
            
            const randomFile = files[Math.floor(Math.random() * files.length)];
            
            document.getElementById('uploadArea').innerHTML = `
                <h3>ğŸ“¤ æ­£åœ¨å¤„ç†æ–‡ä»¶: ${randomFile}</h3>
                <div class="loading"></div>
                <p>æ­£åœ¨æå–çŸ¥è¯†...</p>
            `;
            
            setTimeout(() => {
                document.getElementById('uploadArea').innerHTML = `
                    <h3>âœ… æ–‡ä»¶å¤„ç†å®Œæˆ: ${randomFile}</h3>
                    <p>å·²æå– 15 ä¸ªå®ä½“ï¼Œ8 ä¸ªå…³ç³»ï¼Œ6 ä¸ªæ¦‚å¿µ</p>
                    <button class="btn btn-primary" onclick="simulateFileUpload()">ğŸ“ ç»§ç»­ä¸Šä¼ æ–‡ä»¶</button>
                `;
                
                // æ›´æ–°æ–‡ä»¶è®¡æ•°
                const currentCount = parseInt(document.getElementById('fileCount').textContent);
                document.getElementById('fileCount').textContent = currentCount + 1;
            }, 3000);
        }
        
        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        function updateStatistics() {
            document.getElementById('nodeCount').textContent = knowledgeBase.nodes.length;
            document.getElementById('relCount').textContent = knowledgeBase.relationships.length;
            document.getElementById('totalNodes').textContent = knowledgeBase.nodes.length;
            document.getElementById('totalRels').textContent = knowledgeBase.relationships.length;
        }
        
        // æ›´æ–°å›¾è°±ç»Ÿè®¡
        function updateGraphStats() {
            const nodeCount = knowledgeBase.nodes.length;
            const edgeCount = knowledgeBase.relationships.length;
            const maxPossibleEdges = nodeCount * (nodeCount - 1) / 2;
            const density = (edgeCount / maxPossibleEdges).toFixed(2);
            const avgDegree = (2 * edgeCount / nodeCount).toFixed(1);
            
            document.getElementById('density').textContent = density;
            document.getElementById('avgDegree').textContent = avgDegree;
        }
        
        // åˆ†æåŠŸèƒ½
        function runCentralityAnalysis() {
            document.getElementById('centralityAnalysis').innerHTML = `
                <div class="loading"></div> æ­£åœ¨åˆ†æèŠ‚ç‚¹ä¸­å¿ƒæ€§...
            `;
            
            setTimeout(() => {
                // è®¡ç®—åº¦ä¸­å¿ƒæ€§
                const degrees = {};
                knowledgeBase.nodes.forEach(node => degrees[node.id] = 0);
                knowledgeBase.relationships.forEach(rel => {
                    if (degrees[rel.source] !== undefined) degrees[rel.source]++;
                    if (degrees[rel.target] !== undefined) degrees[rel.target]++;
                });
                
                const maxDegreeNode = Object.entries(degrees).reduce((a, b) => degrees[a[0]] > degrees[b[0]] ? a : b);
                const nodeName = knowledgeBase.nodes.find(n => n.id === maxDegreeNode[0])?.label || 'æœªçŸ¥';
                
                document.getElementById('centralityAnalysis').innerHTML = `
                    <p><strong>åº¦ä¸­å¿ƒæ€§æœ€é«˜:</strong> ${nodeName} (è¿æ¥åº¦: ${maxDegreeNode[1]})</p>
                    <p><strong>ä»‹æ•°ä¸­å¿ƒæ€§æœ€é«˜:</strong> æŠ—æ‰°åº¦æµ‹è¯• (0.85)</p>
                    <p><strong>æ¥è¿‘ä¸­å¿ƒæ€§æœ€é«˜:</strong> EMCæµ‹è¯•è®¾å¤‡ (0.92)</p>
                    <p><strong>ç‰¹å¾å‘é‡ä¸­å¿ƒæ€§æœ€é«˜:</strong> IEC 61000ç³»åˆ— (0.78)</p>
                    <p><strong>åˆ†ææ—¶é—´:</strong> ${new Date().toLocaleTimeString()}</p>
                `;
            }, 2000);
        }
        
        function runCommunityDetection() {
            document.getElementById('communityAnalysis').innerHTML = `
                <div class="loading"></div> æ­£åœ¨è¿›è¡Œç¤¾åŒºå‘ç°...
            `;
            
            setTimeout(() => {
                document.getElementById('communityAnalysis').innerHTML = `
                    <p><strong>æµ‹è¯•è®¾å¤‡ç¤¾åŒº:</strong> EMCæµ‹è¯•è®¾å¤‡, ç”µæ³¢æš—å®¤, ESDå‘ç”Ÿå™¨, å¼ å·¥ç¨‹å¸ˆ</p>
                    <p><strong>æ ‡å‡†è§„èŒƒç¤¾åŒº:</strong> GB/T 17626, IEC 61000, CISPR 25</p>
                    <p><strong>äº§å“æµ‹è¯•ç¤¾åŒº:</strong> æ™ºèƒ½æ‰‹æœº, æ±½è½¦ECU, æŠ—æ‰°åº¦æµ‹è¯•, é™ç”µæ”¾ç”µæµ‹è¯•</p>
                    <p><strong>æ¨¡å—åŒ–åº¦:</strong> 0.73 (ç¤¾åŒºç»“æ„æ¸…æ™°)</p>
                    <p><strong>ç¤¾åŒºæ•°é‡:</strong> 3ä¸ªä¸»è¦ç¤¾åŒº</p>
                `;
            }, 2000);
        }
        
        function analyzeEvolution() {
            alert('ğŸ“Š çŸ¥è¯†æ¼”åŒ–åˆ†æè¯¦æƒ…\\n\\nğŸ“ˆ å‘å±•è¶‹åŠ¿:\\nâ€¢ 2020å¹´: 5G EMCæ ‡å‡†ä½“ç³»å»ºç«‹\\nâ€¢ 2021å¹´: æ–°èƒ½æºæ±½è½¦EMCè¦æ±‚å¤§å¹…æå‡\\nâ€¢ 2022å¹´: ç‰©è”ç½‘è®¾å¤‡EMCè§„èŒƒå®Œå–„\\nâ€¢ 2023å¹´: AIè¾…åŠ©EMCè®¾è®¡å·¥å…·å…´èµ·\\nâ€¢ 2024å¹´: æ¯«ç±³æ³¢EMCæµ‹è¯•æ–¹æ³•æ ‡å‡†åŒ–\\n\\nğŸ”® æœªæ¥é¢„æµ‹:\\nâ€¢ 6Gé€šä¿¡EMCé¢„ç ”å¯åŠ¨\\nâ€¢ é‡å­é€šä¿¡EMCé˜²æŠ¤ç ”ç©¶\\nâ€¢ å¤ªç©ºç¯å¢ƒEMCæ ‡å‡†åˆ¶å®š');
        }
        
        function identifyGaps() {
            alert('ğŸ” çŸ¥è¯†ç¼ºå£æ·±åº¦åˆ†æ\\n\\nğŸ¯ ä¸»è¦ç¼ºå£:\\nâ€¢ 6Gé€šä¿¡ç³»ç»ŸEMCæ ‡å‡†ä½“ç³»\\nâ€¢ è„‘æœºæ¥å£è®¾å¤‡EMCå®‰å…¨è§„èŒƒ\\nâ€¢ é‡å­è®¡ç®—è®¾å¤‡EMCé˜²æŠ¤æ–¹æ³•\\nâ€¢ æ·±æµ·/å¤ªç©ºç¯å¢ƒEMCæµ‹è¯•æ ‡å‡†\\nâ€¢ çº³ç±³ç”µå­å™¨ä»¶EMCç‰¹æ€§ç ”ç©¶\\n\\nğŸ’¡ è¡¥å……å»ºè®®:\\nâ€¢ å»ºç«‹è·¨å­¦ç§‘EMCç ”ç©¶å›¢é˜Ÿ\\nâ€¢ åŠ å¼ºå›½é™…åˆä½œä¸æ ‡å‡†åè°ƒ\\nâ€¢ æŠ•å…¥å‰æ²¿æŠ€æœ¯EMCåŸºç¡€ç ”ç©¶\\nâ€¢ å®Œå–„EMCäººæ‰åŸ¹å…»ä½“ç³»');
        }
        
        // æ ‡å‡†è¯¦æƒ…
        function showStandardDetails(standardName) {
            let details = '';
            if (standardName.includes('17626')) {
                details = 'GB/T 17626ç³»åˆ—æ ‡å‡†è¯¦æƒ…\\n\\nğŸ“‹ æ ‡å‡†ä¿¡æ¯:\\nâ€¢ æ ‡å‡†åç§°: ç”µç£å…¼å®¹ è¯•éªŒå’Œæµ‹é‡æŠ€æœ¯\\nâ€¢ å‘å¸ƒæœºæ„: å›½å®¶æ ‡å‡†åŒ–å§”å‘˜ä¼š\\nâ€¢ æŠ€æœ¯åŸºç¡€: ç­‰åŒé‡‡ç”¨IEC 61000-4ç³»åˆ—\\nâ€¢ æœ€æ–°ç‰ˆæœ¬: 2018å¹´ç‰ˆ\\n\\nğŸ¯ ä¸»è¦å†…å®¹:\\nâ€¢ ç¬¬1éƒ¨åˆ†: æ€»åˆ™\\nâ€¢ ç¬¬2éƒ¨åˆ†: é™ç”µæ”¾ç”µæŠ—æ‰°åº¦è¯•éªŒ\\nâ€¢ ç¬¬3éƒ¨åˆ†: å°„é¢‘ç”µç£åœºè¾å°„æŠ—æ‰°åº¦è¯•éªŒ\\nâ€¢ ç¬¬4éƒ¨åˆ†: ç”µå¿«é€Ÿç¬å˜è„‰å†²ç¾¤æŠ—æ‰°åº¦è¯•éªŒ\\nâ€¢ ç¬¬5éƒ¨åˆ†: æµªæ¶Œ(å†²å‡»)æŠ—æ‰°åº¦è¯•éªŒ\\n\\nğŸ­ åº”ç”¨é¢†åŸŸ:\\nâ€¢ ä¿¡æ¯æŠ€æœ¯è®¾å¤‡\\nâ€¢ å·¥ä¸šè®¾å¤‡\\nâ€¢ å®¶ç”¨ç”µå™¨\\nâ€¢ æ±½è½¦ç”µå­';
            } else if (standardName.includes('61000')) {
                details = 'IEC 61000ç³»åˆ—æ ‡å‡†è¯¦æƒ…\\n\\nğŸŒ å›½é™…æ ‡å‡†:\\nâ€¢ æ ‡å‡†åç§°: ç”µç£å…¼å®¹(EMC)\\nâ€¢ å‘å¸ƒæœºæ„: å›½é™…ç”µå·¥å§”å‘˜ä¼š(IEC)\\nâ€¢ æ ‡å‡†åœ°ä½: å…¨çƒEMCæ ‡å‡†ä½“ç³»åŸºç¡€\\nâ€¢ æŠ€æœ¯æ°´å¹³: å›½é™…å…ˆè¿›æ°´å¹³\\n\\nğŸ“š æ ‡å‡†ç»“æ„:\\nâ€¢ ç¬¬1éƒ¨åˆ†: æ€»åˆ™ - åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­\\nâ€¢ ç¬¬2éƒ¨åˆ†: ç¯å¢ƒ - ç”µç£ç¯å¢ƒåˆ†ç±»å’Œæè¿°\\nâ€¢ ç¬¬3éƒ¨åˆ†: é™å€¼ - å‘å°„é™å€¼è¦æ±‚\\nâ€¢ ç¬¬4éƒ¨åˆ†: è¯•éªŒå’Œæµ‹é‡æŠ€æœ¯\\nâ€¢ ç¬¬5éƒ¨åˆ†: å®‰è£…å’Œå‡ç¼“å¯¼åˆ™\\nâ€¢ ç¬¬6éƒ¨åˆ†: é€šç”¨æ ‡å‡†\\n\\nğŸ¯ æŠ€æœ¯ç‰¹ç‚¹:\\nâ€¢ æ¶µç›–ä»åŸºç¡€ç†è®ºåˆ°å®é™…åº”ç”¨\\nâ€¢ æä¾›å®Œæ•´çš„æµ‹è¯•æ–¹æ³•ä½“ç³»\\nâ€¢ ä¸äº§å“æ ‡å‡†æœ‰æœºç»“åˆ';
            } else {
                details = 'CISPR 25æ ‡å‡†è¯¦æƒ…\\n\\nğŸš— æ±½è½¦EMCæ ‡å‡†:\\nâ€¢ å…¨å: ç”¨äºä¿æŠ¤è½¦è½½æ¥æ”¶æœºçš„è½¦è¾†ã€èˆ¹åªå’Œå†…ç‡ƒæœºé©±åŠ¨è£…ç½®çš„æ— çº¿ç”µéªšæ‰°ç‰¹æ€§çš„é™å€¼å’Œæµ‹é‡æ–¹æ³•\\nâ€¢ å‘å¸ƒæœºæ„: å›½é™…æ— çº¿ç”µå¹²æ‰°ç‰¹åˆ«å§”å‘˜ä¼š\\nâ€¢ é€‚ç”¨å¯¹è±¡: æ±½è½¦åŠå…¶ç”µå­ç”µæ°”éƒ¨ä»¶\\nâ€¢ æœ€æ–°ç‰ˆæœ¬: 2016å¹´ç¬¬4ç‰ˆ\\n\\nğŸ“Š æŠ€æœ¯è¦æ±‚:\\nâ€¢ é¢‘ç‡èŒƒå›´: 150kHz-2.5GHz\\nâ€¢ æµ‹è¯•é¡¹ç›®: ä¼ å¯¼å‘å°„ã€è¾å°„å‘å°„ã€ä¼ å¯¼æŠ—æ‰°åº¦ã€è¾å°„æŠ—æ‰°åº¦\\nâ€¢ é™å€¼ç­‰çº§: Class 1-5\\nâ€¢ æµ‹è¯•ç¯å¢ƒ: å±è”½å®¤ã€OATSã€ç”µæ³¢æš—å®¤\\n\\nğŸ¯ è¡Œä¸šå½±å“:\\nâ€¢ å…¨çƒæ±½è½¦EMCåˆè§„åŸºå‡†\\nâ€¢ å½±å“æ±½è½¦ç”µå­è®¾è®¡\\nâ€¢ ä¿ƒè¿›æ±½è½¦å·¥ä¸šå‘å±•';
            }
            alert(details);
        }
        
        function runTestSimulation() {
            alert('ğŸ§ª EMCæµ‹è¯•ä»¿çœŸç³»ç»Ÿ\\n\\nğŸ¯ ä»¿çœŸåœºæ™¯:\\nâ€¢ æµ‹è¯•å¯¹è±¡: æ–°èƒ½æºæ±½è½¦å……ç”µæ¡©\\nâ€¢ æµ‹è¯•é¡¹ç›®: ä¼ å¯¼å‘å°„ (CISPR 11)\\nâ€¢ é¢‘ç‡èŒƒå›´: 150kHz-30MHz\\nâ€¢ æµ‹è¯•ç¯å¢ƒ: å±è”½å®¤\\n\\nğŸ“Š ä»¿çœŸç»“æœ:\\nâ€¢ ä½é¢‘æ®µ (150kHz-1.6MHz): ç¬¦åˆClass Aé™å€¼\\nâ€¢ ä¸­é¢‘æ®µ (1.6MHz-5MHz): æ¥è¿‘é™å€¼ï¼Œéœ€è¦ä¼˜åŒ–\\nâ€¢ é«˜é¢‘æ®µ (5MHz-30MHz): ç¬¦åˆClass Aé™å€¼\\n\\nğŸ’¡ ä¼˜åŒ–å»ºè®®:\\nâ€¢ åœ¨1.6-5MHzé¢‘æ®µå¢åŠ æ»¤æ³¢å™¨\\nâ€¢ ä¼˜åŒ–æ¥åœ°è®¾è®¡\\nâ€¢ å¢åŠ å±è”½æªæ–½\\n\\nâœ… é¢„æœŸæ”¹è¿›åå¯æ»¡è¶³æ ‡å‡†è¦æ±‚');
        }
        
        // å·¥å…·å‡½æ•°
        function refreshData() {
            updateGraph();
            updateStatistics();
            alert('ğŸ”„ æ•°æ®å·²åˆ·æ–°\\n\\nğŸ“Š å½“å‰çŠ¶æ€:\\nâ€¢ çŸ¥è¯†èŠ‚ç‚¹: ' + knowledgeBase.nodes.length + 'ä¸ª\\nâ€¢ å…³ç³»è¿æ¥: ' + knowledgeBase.relationships.length + 'ä¸ª\\nâ€¢ æœ€åæ›´æ–°: ' + new Date().toLocaleString());
        }
        
        function exportData() {
            const data = JSON.stringify(knowledgeBase, null, 2);
            const blob = new Blob([data], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'emc_knowledge_graph_' + new Date().toISOString().split('T')[0] + '.json';
            a.click();
            URL.revokeObjectURL(url);
        }
        
        function exportGraph() {
            if (network) {
                const canvas = network.canvas.frame.canvas;
                const link = document.createElement('a');
                link.download = 'emc_graph_' + new Date().toISOString().split('T')[0] + '.png';
                link.href = canvas.toDataURL();
                link.click();
            }
        }
        
        function showSettings() {
            alert('âš™ï¸ ç³»ç»Ÿè®¾ç½®\\n\\nğŸ¨ ç•Œé¢è®¾ç½®:\\nâ€¢ å›¾è°±å¸ƒå±€ç®—æ³•: Barnes-Hut\\nâ€¢ èŠ‚ç‚¹å¤§å°: è‡ªé€‚åº”\\nâ€¢ è¾¹å®½åº¦: 2px\\nâ€¢ ç‰©ç†ä»¿çœŸ: å¯ç”¨\\n\\nğŸ” æœç´¢è®¾ç½®:\\nâ€¢ æ¨¡ç³ŠåŒ¹é…: å¯ç”¨\\nâ€¢ ç›¸å…³æ€§é˜ˆå€¼: è‡ªåŠ¨\\nâ€¢ æœç´¢å†å²: ä¿å­˜æœ€è¿‘5æ¡\\n\\nğŸ’¾ æ•°æ®è®¾ç½®:\\nâ€¢ è‡ªåŠ¨ä¿å­˜: å¯ç”¨\\nâ€¢ æ•°æ®åŒæ­¥: æœ¬åœ°å­˜å‚¨\\nâ€¢ å¤‡ä»½é¢‘ç‡: æ¯æ—¥\\n\\nğŸ”§ é«˜çº§è®¾ç½®:\\nâ€¢ è°ƒè¯•æ¨¡å¼: å…³é—­\\nâ€¢ æ€§èƒ½ä¼˜åŒ–: å¯ç”¨\\nâ€¢ æ—¥å¿—è®°å½•: æ ‡å‡†');
        }
        
        function showHelp() {
            alert('â“ EMCçŸ¥è¯†å›¾è°±ç³»ç»Ÿä½¿ç”¨å¸®åŠ©\\n\\nğŸŒ çŸ¥è¯†å›¾è°±:\\nâ€¢ ç‚¹å‡»èŠ‚ç‚¹: æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯\\nâ€¢ æ‹–æ‹½èŠ‚ç‚¹: æ‰‹åŠ¨è°ƒæ•´ä½ç½®\\nâ€¢ æ»šè½®: ç¼©æ”¾è§†å›¾\\nâ€¢ åŒå‡»ç©ºç™½: é‡ç½®è§†å›¾\\n\\nğŸ” æ™ºèƒ½æœç´¢:\\nâ€¢ å…³é”®è¯æœç´¢: æ”¯æŒä¸­è‹±æ–‡\\nâ€¢ æ¨¡ç³ŠåŒ¹é…: è‡ªåŠ¨çº é”™\\nâ€¢ å¿«é€Ÿæœç´¢: ç‚¹å‡»å¸¸ç”¨è¯\\nâ€¢ æœç´¢å†å²: å¿«é€Ÿé‡å¤æœç´¢\\n\\nğŸ“ æ–‡ä»¶å¤„ç†:\\nâ€¢ æ”¯æŒæ ¼å¼: PDF, DOC, TXT, XLS\\nâ€¢ è‡ªåŠ¨æå–: å®ä½“ã€å…³ç³»ã€æ¦‚å¿µ\\nâ€¢ æ‰¹é‡å¤„ç†: æ”¯æŒå¤šæ–‡ä»¶ä¸Šä¼ \\n\\nğŸ“Š çŸ¥è¯†åˆ†æ:\\nâ€¢ ä¸­å¿ƒæ€§åˆ†æ: è¯†åˆ«é‡è¦èŠ‚ç‚¹\\nâ€¢ ç¤¾åŒºå‘ç°: å‘ç°çŸ¥è¯†ç¾¤ç»„\\nâ€¢ æ¼”åŒ–åˆ†æ: è¿½è¸ªå‘å±•è¶‹åŠ¿\\nâ€¢ ç¼ºå£è¯†åˆ«: å‘ç°çŸ¥è¯†ç©ºç™½\\n\\nğŸ“‹ æ ‡å‡†åº“:\\nâ€¢ å›½æ ‡æŸ¥è¯¢: GB/Tç³»åˆ—æ ‡å‡†\\nâ€¢ å›½é™…æ ‡å‡†: IECç³»åˆ—æ ‡å‡†\\nâ€¢ è¡Œä¸šæ ‡å‡†: CISPRç­‰ä¸“ä¸šæ ‡å‡†\\nâ€¢ æµ‹è¯•æ–¹æ³•: å®Œæ•´æµ‹è¯•æµç¨‹');
        }
        
        function filterNodes(type) {
            console.log('ç­›é€‰èŠ‚ç‚¹ç±»å‹:', type);
            // å¯ä»¥åœ¨è¿™é‡Œå®ç°å®é™…çš„ç­›é€‰é€»è¾‘
        }
    </script>
</body>
</html>